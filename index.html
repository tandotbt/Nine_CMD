<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Nine CMD</title>
        <link rel="apple-touch-icon" sizes="180x180" href="assets/icon/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="assets/icon/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="assets/icon/favicon-16x16.png" />
        <link rel="manifest" href="assets/icon/site.webmanifest" />
        <link rel="mask-icon" href="assets/icon/safari-pinned-tab.svg" color="#c0b200" />
        <link rel="shortcut icon" href="assets/icon/favicon.ico" />
        <meta name="msapplication-TileColor" content="#ffc40d" />
        <meta name="msapplication-config" content="assets/icon/browserconfig.xml" />
        <meta name="theme-color" content="#fff030" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous" />
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>

        <script src="js/lazysizes.min.js" async=""></script>
        <script src="js/script.js"></script>
        <script src="js/numberAnimate.js"></script>
        <link rel="stylesheet" type="text/css" href="css/styles.css" />

        <style>
            body {
                font-family: "nineChroniclesFont", monospace;
            }

            .number-font {
                font-family: "nineChroniclesFont2", monospace;
            }

            @font-face {
                font-family: "nineChroniclesFont";
                src: url(assets/font/kanit-light.otf) format("opentype");
            }

            @font-face {
                font-family: "nineChroniclesFont2";
                src: url(assets/font/PoorStory-Regular.ttf) format("truetype");
            }

            @font-face {
                font-family: "ninecmdFont";
                src: url(assets/font/NotoMono-Regular.ttf) format("truetype");
            }
        </style>

        <script>
            $(document).ready(function () {

                                   $('.lobby-level-view span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });
                                   $('.lobby-arena-view-4 span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });
                                   <!-- $('.lobby-arena-view-2 span').numberAnimate({ -->
                                   	<!-- animationTimes: [500, 1000, 500] -->
                                   <!-- });				 -->
                                   $('.lobby-donater-view span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });

                                   $('.lobby-AP-bar-view-5 span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });

                                   $('.lobby-AP-bar-view-3 span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });

                                   $('.lobby-AP-bar-2-view-3 span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });

                                   $('.lobby-crystal-bar-view-3 span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });

                                   $('.lobby-NCG-bar-view-3 span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });

                                   $('.lobby-table-block-now-view span').numberAnimate({
                                   	animationTimes: [500, 1000, 500]
                                   });

                                               /////////////// Chỉnh kích thước cửa sổ liên tục
                                               //  var display_lobby = $(".display_lobby");
                                               // var display_lobby2 = $(".display_lobby2");
                                               var background = $(".background");
                                               var backgroundAspectRatio = 1920 / 1080;

                        $(window).on("load resize", function() {
                         var windowWidth = $(window).width();
                         var windowHeight = $(window).height();

                         var backgroundWidth = windowWidth;
                         var backgroundHeight = backgroundWidth / backgroundAspectRatio;

                         var zoomPercentage = backgroundHeight / 5.515;
                         if (windowWidth / windowHeight >= backgroundAspectRatio) {
                           zoomPercentage = windowHeight / 5.515;
                         }

                         var display_lobby2 = $(".display_lobby2");
                         var display_lobby = $(".display_lobby");

                         display_lobby2.css({
                           width: "0px",
                           transform: "scale(" + zoomPercentage + "%)",
                         });

                         display_lobby.css({
                           // transform: "scale(" + zoomPercentage + "%)",
                       	zoom: zoomPercentage + "%",
                         });
                       });

               document.getElementById('randomStageSweep_add').addEventListener('click', function() {
                 var randomStageSweep_select = document.getElementById('randomStageSweep_select');
                 var number = randomStageSweep_select.value;

                 if (number) {
                   var listItem = document.createElement('li');
                   listItem.className = 'list-group-item randomStageSweep_pick d-flex justify-content-between align-items-center';
                   listItem.innerHTML = number + '<button class="btn btn-danger btn-sm deleteButton" type="button">x</button>';

                   var randomStageSweep_list = document.getElementById('randomStageSweep_list');
                   randomStageSweep_list.appendChild(listItem);
            	var numberItems = document.getElementsByClassName('randomStageSweep_pick');
            	for (var i = 0; i < numberItems.length; i++) {
            	  numberItems[i].classList.remove('active');
            	}
                   randomStageSweep_select.value = number;
            	randomStageSweep_percentage();
                 }
               });

               document.getElementById('randomStageSweep_list').addEventListener('click', function(event) {
                 if (event.target.classList.contains('deleteButton')) {
                   var listItem = event.target.parentElement;
                   listItem.remove();
            	randomStageSweep_percentage();
            	var numberItems = document.getElementsByClassName('randomStageSweep_pick');
            	for (var i = 0; i < numberItems.length; i++) {
            	  numberItems[i].classList.remove('active');
            	}
                 }
               });


                /////////////// Hành động login
                // Lắng nghe sự kiện submit của form
                document.getElementById("login_form").addEventListener("submit", function (event) {
                    addToLog("Bắt đầu submit form login");
                    event.preventDefault(); // Ngăn chặn việc gửi form đi

                    var urlServerInput = document.getElementById("url_server_jsonBlod");
                    var urlServer = urlServerInput.value;

                    // Kiểm tra độ dài và kí tự đầu tiên của urlServer
                    if (urlServer.length !== 19 && urlServer.length > 0 && /^\d+$/.test(urlServer)) {
                        var errorDiv = document.createElement("small"); // Tạo phần tử div mới
                        errorDiv.className = "text-danger form-text"; // Áp dụng lớp CSS text-danger từ Bootstrap
                        errorDiv.innerText = "Your url server incorrect";

                        var formGroup = urlServerInput.closest(".form-floating"); // Tìm phần tử cha gần nhất có lớp CSS .mb-3

                        // Xóa các thông báo cũ trước khi thêm thông báo lỗi mới
                        var existingErrorDivs = formGroup.querySelectorAll(".text-danger");
                        existingErrorDivs.forEach(function (existingErrorDiv) {
                            existingErrorDiv.remove();
                        });

                        formGroup.appendChild(errorDiv); // Thêm thông báo lỗi vào phần tử cha
                        return; // Dừng việc xử lý tiếp theo
                    }
                    showNotification("Login ...", "alert", 10000);
                    save_9cmd_form_data_login(); // Lưu dữ liệu từ form vào Local Storage

                    var submitBtn = document.getElementById("submit_login_form");
                    submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Login...';
                    submitBtn.disabled = true;

                    fetchDataAvatarAgain();
                });
                // Xóa thông báo lỗi khi người dùng nhấp vào trường url_server_jsonBlod
                document.getElementById("url_server_jsonBlod").addEventListener("focus", function () {
                    var formGroup = this.closest(".form-floating"); // Tìm phần tử cha gần nhất có lớp CSS .mb-3
                    var errorDivs = formGroup.querySelectorAll(".text-danger");
                    errorDivs.forEach(function (errorDiv) {
                        errorDiv.remove();
                    });
                });
                var Address9cInput = document.getElementById("Address9c");
                var Address9cValue = Address9cInput.value;
                // Đăng ký sự kiện khi người dùng nhập xong trường Address9C
                Address9cInput.addEventListener("input", function () {
                    var Address9cValue = Address9cInput.value.trim();

                    if (Address9cValue.length === 42 && Address9cValue.startsWith("0x")) {
                        // Hiển thị trường avatarSelect
                        document.getElementById("avatarSelect2").style.display = "block";
                        // Hiển thị trường loading_login
                        document.getElementById("loading_login").style.display = "block";
                        // Tối vùng form
                        document.getElementById("login_form").style.opacity = "0.5";

                        // Gọi hàm listAvatar()
                        listAvatar();

                        // Ẩn gif loading sau 2 giây (hoặc sau khi xử lý xong)
                        setTimeout(function () {
                            document.getElementById("login_form").style.opacity = "1"; // Khôi phục độ trong suốt của form
                            document.getElementById("loading_login").style.display = "none";
                        }, 2000);
                    } else {
                        // Ẩn trường avatarSelect
                        document.getElementById("avatarSelect2").style.display = "none";
                    }
                });

                /////////////// Lấy dữ liệu node 1 lần
                // Sử dụng $.getJSON
                // $.getJSON("https://cors-get-proxy.sirjosh.workers.dev/?url=https://api.9capi.com/rpc", function(data) {
                // node_list(data);
                // });

                // Sử dụng fetch
                fetch("https://api.9capi.com/rpc")
                    .then((response) => response.json())
                    .then((data) => node_list(data))
                    .catch((error) => node_list_error(error));
                /////////////// Làm mới info avatar liên tục
                // Lặp lại yêu cầu fetch sau mỗi 5 giây
                setInterval(fetch_data_block_now, 5000);
                // Khởi tạo lần đầu khi trang được tải
                fetch_data_block_now();
				updateTurnSweep_range();
				document.getElementById('turnSweep_range').addEventListener('input', updateTurnSweep_range);
                $(".switch-useNodeTask").change(function () {
                    var switchGroup = $(this).data("switch-group");
                    var isChecked = $(this).prop("checked");
                    $(".switch-useNodeTask[data-switch-group='" + switchGroup + "']").prop("checked", isChecked);
                });

                var APBarLobbyCreat = $("#APBarLobbyCreat").customProgressBar({
                    imageUrl: "assets/img/Common/UI_Common/UI_bar_02_pink_mod.png",
                    imageHeight: 128,
                    imageWidth: 24,
                    backgroundImageUrl: "assets/img/Common/UI_Common/UI_bar_02_bg_mod.png",
                    backgroundOpacity: 0,
                });

                var APBar2LobbyCreat = $("#APBar2LobbyCreat").customProgressBar({
                    imageUrl: "assets/img/Common/UI_Common/UI_bar_02_pink_yellow_mod.png",
                    imageHeight: 128,
                    imageWidth: 24,
                    backgroundImageUrl: "assets/img/Common/UI_Common/UI_bar_02_bg_mod.png",
                    backgroundOpacity: 0,
                });

                var taskUseNodeBar = $("#taskUseNodeBar").customProgressBar({
                    imageUrl: "assets/img/Common/UI_WorldBoss/WB_WaveGauge_mod.png",
                    imageHeight: 246,
                    imageWidth: 18,
                    backgroundImageUrl: "assets/img/Common/UI_WorldBoss/WB_WaveGauge_Bg_mod.png",
                    backgroundOpacity: 1,
                });

                updateAPBar(APBarLobbyCreat);
                updateAPBar2(APBar2LobbyCreat);
                updatetaskUseNodeBar(taskUseNodeBar);
				
				
                fetchDataAvatar_display();
            });
        </script>
    </head>
    <body>
        <div class="noty_lobby display_lobby"></div>

        <div class="lobby-grid display_lobby2">
            <img class="background_lobby" src="assets/img/Lobby/Background_all_2.jpg" />
            <div class="test_check">
                <button
                    type="button"
                    class="btn btn-outline-success btn-sm"
                    onclick="showNotification('Thông báo mẫu', 'alert', 5000);
showNotification('Thông báo mẫu', 'success', 5000);
showNotification('Thông báo mẫu Thông báo mẫu', 'warning', 5000);
showNotification('Thông báo mẫu Thông báo mẫu Thông báo mẫu', 'error', 5000);
showNotification('Thông báo mẫu', 'info', 5000);"
                >
                    Check
                </button>

                <button type="button" class="btn btn-outline-success btn-sm" onclick="fetchDataAvatarAgain();">Auto refresh 300s</button>
            </div>

            <div class="button_lobby lobby-arena-view" data-action="arena" data-bs-toggle="modal" data-bs-target="#func_arena_main">
                <div class="lobby-arena-view-1">
                    <img src="assets/img/Lobby/ranking_01_mod.png" alt="Arena" />
                </div>
                <div class="lobby-arena-view-2">
                    <div class="badge rounded-pill bg-danger lobby-arena-view-ticket1"><img class="lobby-loading-vip lobby-arena-view-ticket2" style="zoom: 30%;" src="assets/loading_vip.gif" /><span></span></div>
                </div>
                <div class="lobby-arena-view-3">
                    <img src="assets/img/Common/UI_Common/UI_icon_Block.png" />
                </div>
                <div class="lobby-arena-view-4">
                    <span>----</span> (<span>--</span>h <span>--</span>m <span>--</span>s)<br />
                    (<span>--</span>/20)
                </div>
            </div>

            <div class="button_lobby stage-lobby-view" data-action="stage" data-bs-toggle="modal" data-bs-target="#func_stage_main">
                <img src="assets/img/Lobby/bg_character_main_08.png" alt="Adventure" />
            </div>

            <div class="button_lobby craft-upgrade-lobby-view" data-action="craft-upgrade" data-bs-toggle="modal" data-bs-target="#func_craft-upgrade_main">
                <img src="assets/img/Lobby/bg_character_main_06.png" alt="Workshop" />
            </div>

            <div class="button_lobby shop-lobby-view" data-action="shop" data-bs-toggle="modal" data-bs-target="#func_shop_main">
                <img src="assets/img/Lobby/bg_character_main_07_mod.png" alt="Shop" />
            </div>

            <div class="button_lobby login-lobby-view" data-bs-toggle="modal" data-bs-target="#login_modal_form">
                <div class="image-container">
                    <img class="lazyload image-avatar lobby-armorId-view" src="assets/loading_small.gif" data-src="assets/img/Common/10200000.png" />
                    <img style="zoom: 40%;" class="image-avatar lobby-loading-vip" src="assets/loading_vip.gif" />
                    <img class="lazyload image-avatar" src="assets/loading_small.gif" data-src="assets/img/Common/character_frame_mod.png" />
                    <div class="lobby-level-view"><span>---</span></div>
                </div>
            </div>

            <div class="lobby-name-view"></div>

            <div class="lobby-donater-view"><i class="bi-cart2"></i><span>------</span></div>

            <div class="button_lobby lobby-table-block-now-view hstack gap-3" data-bs-toggle="modal" data-bs-target="#func_main">
                <div class="vr"></div>
                Block:<span>--------</span>
                <div class="vr"></div>
                Avg block time: <span>---</span>s
                <div class="vr"></div>
                Delay: <span>---</span>s
                <div class="vr"></div>

                Node: <span class="d-inline-block text-truncate" style="max-width: 500px;">---</span>
            </div>
            <div class="button_lobby lobby-AP-bar-view">
                <div class="lobby-AP-bar-view-1">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_main_icon_box.png" />
                </div>
                <div class="lobby-AP-bar-view-2">
                    <div style="width: 128px; height: 24px; overflow: hidden;">
                        <div style="transform-origin: center; transform: rotate(90deg);" id="APBarLobbyCreat"></div>
                    </div>
                </div>
                <div class="lobby-AP-bar-view-2" style="z-index: 10;">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_bar_02_bg.png" />
                </div>
                <div class="lobby-AP-bar-view-7">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_bar_02_pink_effect.png" />
                </div>
                <div class="lobby-AP-bar-view-3"><span>----</span>/1700</div>
                <div class="lobby-AP-bar-view-4">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_icon_Block.png" />
                </div>
                <div class="lobby-AP-bar-view-5"><span>--</span>h <span>--</span>m</div>
                <img class="lobby-loading-vip-2 lobby-AP-bar-view-6" src="assets/loading_vip.gif" />
            </div>

            <div class="button_lobby lobby-AP-bar-2-view">
                <div class="lobby-AP-bar-2-view-1">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_main_icon_star.png" />
                </div>
                <div class="lobby-AP-bar-2-view-2">
                    <div style="width: 128px; height: 24px; overflow: hidden;">
                        <div style="transform-origin: center; transform: rotate(90deg);" id="APBar2LobbyCreat"></div>
                    </div>
                </div>
                <div class="lobby-AP-bar-2-view-2" style="z-index: 10;">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_bar_02_bg.png" />
                </div>

                <div class="lobby-AP-bar-2-view-3"><span>---</span>/120</div>
                <img class="lobby-loading-vip-2 lobby-AP-bar-2-view-4" src="assets/loading_vip.gif" />
            </div>

            <div class="button_lobby lobby-crystal-bar-view">
                <div class="lobby-crystal-bar-view-1">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_main_icon_crystal_big.png" />
                </div>
                <div class="lobby-crystal-bar-view-2">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_bar_02_bg.png" />
                </div>
                <div class="lobby-crystal-bar-view-3"><span>------</span></div>
                <img class="lobby-loading-vip lobby-crystal-bar-view-4" src="assets/loading_vip.gif" />
            </div>
            <div class="button_lobby lobby-NCG-bar-view">
                <div class="lobby-NCG-bar-view-1">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_main_icon_gold.png" />
                </div>
                <div class="lobby-NCG-bar-view-2">
                    <img class="lazyload" src="assets/loading_small.gif" data-src="assets/img/Common/UI_Common/UI_bar_02_bg.png" />
                </div>
                <div class="lobby-NCG-bar-view-3"><span>------</span></div>
                <img class="lobby-loading-vip lobby-NCG-bar-view-4" src="assets/loading_vip.gif" />
            </div>
            <div style="visibility: visible;" class="tooltip-custom button_lobby lobby-info-tooltip-view">
                <img src="assets/img/Icons/System/UI_icon_Popup_04.png" />
                <span class="tooltiptext">
                    <div style="width: 142px; height: 194px; overflow: hidden; transform: scale(0.7); position: relative; top: 0%; right: -9%;">
                        <div class="form-check form-switch form-check-reverse">
                            <input class="form-check-input switch-useNodeTask" type="checkbox" data-switch-group="refillAP" />
                            <label class="form-check-label" for="on_off_auto_refillAP">Auto refill</label>
                            <input class="form-check-input switch-useNodeTask" type="checkbox" data-switch-group="sweep" />
                            <label class="form-check-label" for="on_off_auto_sweep">Auto sweep</label>
                            <input class="form-check-input switch-useNodeTask" type="checkbox" id="on_off_auto_repeat" checked />
                            <label class="form-check-label" for="on_off_auto_repeat">Auto repeat</label>
                            <input class="form-check-input switch-useNodeTask" type="checkbox" id="on_off_auto_craft" checked />
                            <label class="form-check-label" for="on_off_auto_craft">Auto craft</label>
                            <input class="form-check-input switch-useNodeTask" type="checkbox" id="on_off_auto_upgrade" checked />
                            <label class="form-check-label" for="on_off_auto_upgrade">Auto upgrade</label>
                            <input class="form-check-input switch-useNodeTask" type="checkbox" id="on_off_auto_arena" checked />
                            <label class="form-check-label" for="on_off_auto_arena">Auto arena</label>
                            <input class="form-check-input switch-useNodeTask" type="checkbox" id="on_off_auto_raid" checked />
                            <label class="form-check-label" for="on_off_auto_raid">Auto world boss</label>
                        </div>
                    </div>
                </span>
            </div>
        </div>

        <div class="modal" id="login_modal_form" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
                <div class="modal-content">
                    <img id="loading_login" style="position: absolute; transition: translate(-50%, -50%); top: 42%; z-index: 1; left: 35%; display: none;" src="assets/loading_vip.gif" />
                    <div class="modal-header">
                        <h4 class="modal-title white-text w-100 font-weight-bold py-2">Login</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="login_form">
                            <div class="form-floating mb-3">
                                <input type="text" placeholder="0x***" id="Address9c" name="Address9c" class="form-control" required />
                                <small class="form-text text-muted">Look like <i class="user-select-all">0x6374FE5F54CdeD72Ff334d09980270c61BC95186</i></small>
                                <label for="Address9c" class="form-label">Nine Chronicles address</label>
                            </div>

                            <div class="form-floating mb-3" id="avatarSelect2" style="display: none;">
                                <select id="avatarSelect" name="avatarSelect" class="form-select" required>
                                    <div id="avatarList"></div>
                                </select>
                                <label for="avatarSelect" class="form-label">Choose avatar</label>
                            </div>

                            <div class="form-floating mb-3">
                                <input type="password" placeholder="0x***" id="password" name="password" class="form-control" required />
                                <label for="password" class="form-label">Password</label>
                            </div>

                            <div class="form-check form-switch">
                                <input type="checkbox" role="switch" id="is-donater" name="donater" class="form-check-input" />
                                <label for="is-donater" class="form-label">is donater</label>
                            </div>

                            <div class="form-floating mb-3">
                                <select id="url_rpc" name="url_rpc" class="form-select"></select>
                                <label for="url_rpc" class="form-label">Choose node</label>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-floating">
                                        <input type="number" placeholder="0000000000000000000" id="url_server_jsonBlod" name="url_server_jsonBlod" class="form-control" />
                                        <label for="url_server_jsonBlod" class="form-label">Your server</label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-floating">
                                        <input type="password" placeholder="12345" id="passwordServer" name="passwordServer" class="form-control" value="12345" />
                                        <label for="passwordServer" class="form-label">Password (Default 12345)</label>
                                    </div>
                                </div>
                            </div>
                            <button id="submit_login_form" type="submit" class="btn btn-primary">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="func_main" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="func_mainLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
                <div class="modal-content func_main">
                    <div class="modal-header func_main">
                        <!-- <h5 class="modal-title" id="func_mainLabel">Use Node Tasks</h5> -->
                        <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
                        <span class="close-button" data-bs-dismiss="modal"> <img src="assets/img/Common/UI_MainMenu/UI_icon_Mainmenu_main2.png" /></span>
                    </div>
                    <div class="modal-body func_main">
                        <div class="container">
                            <!-- <div class="progress"> -->
                            <!-- <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div> -->
                            <!-- </div> -->
                            <div class="row">
                                <div class="col-1">
                                    <img id="runGifBarUseNode" src="assets/img/gif/run.png" alt="runBarUseNode GIF" />
                                </div>
                                <div class="col">
                                    <div class="mt-4" style="width: 246px; height: 18px; overflow: hidden;">
                                        <div style="transform-origin: center; transform: rotate(90deg);" id="taskUseNodeBar"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row taskOutputAndList">
                                <div class="col-6">
                                    <div id="taskOutput"></div>
                                </div>
                                <div class="col-6">
                                    <ul class="list-group list-group-flush list-group-numbered" id="taskListItems"></ul>
                                </div>
                            </div>
                            <span id="taskListSpan"></span>

                            <div class="row rounded" style="background-color: whitesmoke; height: 500px;">
                                <div class="col-4" style="height: 100%;">
                                    <!-- List group -->
                                    <div class="list-group pt-3 pb-5" id="manageUseNodeList" role="tablist" style="height: 100%; overflow: overlay;">
                                        <a class="list-group-item list-group-item-action active" data-bs-toggle="list" href="#tabManageUseNode" role="tab">Manage Use Node</a>
                                        <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#tabManageCanAuto" role="tab">
                                            Can auto? <span id="warningCanAutoCount" class="badge bg-danger text-white position-absolute top-50 end-0 translate-middle-y">0</span>
                                        </a>
                                        <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#tabManageRefillAP" role="tab">RefillAP setting</a>
                                        <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#tabManageSweep" role="tab">Sweep setting</a>
                                        <!-- <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#TEMP" role="tab">TEMP</a> -->
                                    </div>
                                </div>
                                <div class="col-8" style="height: 100%;">
                                    <!-- Tab panes -->
                                    <div class="tab-content pt-3 pb-5" style="height: 100%; overflow: overlay;">
                                        <div class="tab-pane active" id="tabManageUseNode" role="tabpanel">
                                            <div class="row mb-3">
                                                <div class="col-md-6">
                                                    <div class="form-floating">
                                                        <input type="number" placeholder="6" id="delayUseNode" value="6" min="6" max="60" name="delayUseNode" class="form-control" />
                                                        <label for="delayUseNode" class="form-label">Delay before use node</label>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <button onclick="tryUseNode_refillAP();updateTaskInfo();" class="btn btn-primary mb-3">Try refill AP</button>
                                                    <button onclick="tryUseNode_sweep();updateTaskInfo();" class="btn btn-primary mb-3">Try sweep</button>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <button onclick="deleteAllTasks()" class="btn btn-primary mb-3">Clear all tasks <span id="taskCount" class="badge bg-secondary">0</span></button>

                                                    <button onclick="checkAllswitch_useNodeTask()" class="btn btn-primary mb-3">Turn on all tasks</button>
                                                </div>
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-md-12">
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" role="switch" id="continueUseNodeCheckbox" checked />
                                                        <label class="form-check-label" for="continueUseNodeCheckbox">Continue use node?</label>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input switch-useNodeTask" type="checkbox" role="switch" data-switch-group="refillAP" id="on_off_auto_refillAP" />
                                                        <label class="form-check-label" for="on_off_auto_refillAP">On / off auto refill AP</label>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input switch-useNodeTask" type="checkbox" role="switch" data-switch-group="sweep" id="on_off_auto_sweep" />
                                                        <label class="form-check-label" for="on_off_auto_sweep">On / off auto sweep</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tabManageCanAuto" role="tabpanel"></div>
                                        <div class="tab-pane" id="tabManageRefillAP" role="tabpanel">
                                            2...
                                        </div>
                                        <div class="tab-pane" id="tabManageSweep" role="tabpanel">
                                            <div class="accordion" id="accordionSweepTask">
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header">
                                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOneSweepTask" aria-expanded="true" aria-controls="collapseOneSweepTask">
                                                            #1 When sweep
                                                        </button>
                                                    </h2>
                                                    <div id="collapseOneSweepTask" class="accordion-collapse collapse show" data-bs-parent="#accordionSweepTask">
                                                        <div class="accordion-body">
                                                            Automatically try sweep task when the AP [0 - 120] ≤ <input type="number" value="5" min="0" max="120" /> and the block refill [0 - 1700] ≤
                                                            <input type="number" value="0" min="0" max="1700" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwoSweepTask" aria-expanded="false" aria-controls="collapseTwoSweepTask">
                                                            #2 Stage sweep
                                                        </button>
                                                    </h2>
                                                    <div id="collapseTwoSweepTask" class="accordion-collapse collapse" data-bs-parent="#accordionSweepTask">
                                                        <div class="accordion-body">
														
														<div class="form-check">												

                                                                <input class="form-check-input" type="radio" name="radioStagesweep" id="radioStagesweep_fixed" value="" aria-label="..." checked />
																<label id="radioStagesweep_label" class="form-check-label" for="radioStagesweep_fixed">Fixed 1 Stage [1 - <span>0</span>] </label>
                                                                <input id="numberStagesweep_fixed" class="form-control" type="number" value="" min="0" max="350" placeholder="Enter 0 or empty to always sweep latest Stage" />

														</div>	
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="radio" name="radioStagesweep" id="radioStagesweep_random" value="" aria-label="..." />
																<label class="form-check-label" for="radioStagesweep_random">Random stage</label>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <input type="number" id="randomStageSweep_select" class="form-control" min="1" max="350" placeholder="Add stage" />
                                                                    </div>
                                                                    <div class="col-md-2">
                                                                        <button id="randomStageSweep_add" class="btn btn-primary" type="button">+</button>
                                                                    </div>
                                                                </div>
                                                                <ul id="randomStageSweep_list" class="list-group list-group-numbered"></ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThreeSweepTask" aria-expanded="false" aria-controls="collapseThreeSweepTask">
                                                            #3 How many AP you spend for sweep
                                                        </button>
                                                    </h2>
                                                    <div id="collapseThreeSweepTask" class="accordion-collapse collapse" data-bs-parent="#accordionSweepTask">
                                                        <div class="accordion-body">
                                                            <p>Have now <span class="spanActionPotionText"></span>/120 AP<p>
															<p>Need to spend <span class="spanAPBaseOnStakeText"></span> APs per turn</p>
															<input type="range" id="turnSweep_range" min="0" max="120" step="5" value="0">
															<div>Turn: <span id="turnSweep_number1">0</span> (0 = max <span id="turnSweep_number2">0</span> turn can sweep)</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFourSweepTask" aria-expanded="false" aria-controls="collapseFourSweepTask">
                                                            #4 Item equipment for sweep
                                                        </button>
                                                    </h2>
                                                    <div id="collapseFourSweepTask" class="accordion-collapse collapse" data-bs-parent="#accordionSweepTask">
                                                        <div class="accordion-body">
                                                            No thing
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header">
                                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFiveSweepTask" aria-expanded="false" aria-controls="collapseFiveSweepTask">
                                                            #5 Runes for sweep
                                                        </button>
                                                    </h2>
                                                    <div id="collapseFiveSweepTask" class="accordion-collapse collapse" data-bs-parent="#accordionSweepTask">
                                                        <div class="accordion-body">
                                                            No thing
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="tab-pane" id="TEMP" role="tabpanel"> -->
                                        <!-- TEMP -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hide</button>
                        <button type="button" class="btn btn-primary">Understood</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Arena-->
        <div class="modal fade" id="func_arena_main" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="func_arena_main-Label" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
                <div class="modal-content func_main">
                    <div class="modal-header func_main">
                        <span class="close-button" data-bs-dismiss="modal"> <img src="assets/img/Common/UI_MainMenu/UI_icon_Mainmenu_main2.png" /></span>
                    </div>
                    <div class="modal-body func_main">
                        <div class="badge bg-primary text-wrap" style="width: 6rem;">Nothing here!</div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hide</button>
                        <button type="button" class="btn btn-primary">Understood</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Stage-->
        <div class="modal fade" id="func_stage_main" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="func_stage_main-Label" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
                <div class="modal-content func_main">
                    <div class="modal-header func_main">
                        <span class="close-button" data-bs-dismiss="modal"> <img src="assets/img/Common/UI_MainMenu/UI_icon_Mainmenu_main2.png" /></span>
                    </div>
                    <div class="modal-body func_main">
                        <div class="badge bg-primary text-wrap" style="width: 6rem;">Nothing here!</div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hide</button>
                        <button type="button" class="btn btn-primary">Understood</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Shop-->
        <div class="modal fade" id="func_shop_main" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="func_shop_main-Label" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
                <div class="modal-content func_main">
                    <div class="modal-header func_main">
                        <span class="close-button" data-bs-dismiss="modal"> <img src="assets/img/Common/UI_MainMenu/UI_icon_Mainmenu_main2.png" /></span>
                    </div>
                    <div class="modal-body func_main">
                        <div class="badge bg-primary text-wrap" style="width: 6rem;">Nothing here!</div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hide</button>
                        <button type="button" class="btn btn-primary">Understood</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Craft Upgrade-->
        <div class="modal fade" id="func_craft-upgrade_main" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="func_craft-upgrade_main-Label" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-fullscreen">
                <div class="modal-content func_main">
                    <div class="modal-header func_main">
                        <span class="close-button" data-bs-dismiss="modal"> <img src="assets/img/Common/UI_MainMenu/UI_icon_Mainmenu_main2.png" /></span>
                    </div>
                    <div class="modal-body func_main">
                        <div class="badge bg-primary text-wrap" style="width: 6rem;">Nothing here!</div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hide</button>
                        <button type="button" class="btn btn-primary">Understood</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
